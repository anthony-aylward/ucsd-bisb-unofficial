{% extends 'base.html' %}

{% from 'macros.html' import quote as quote %}

{% block header %}
  <h1>{% block title %}Lab{% endblock %}</h1>
  <a class="action" href="{{ url_for('lab.create') }}">New post</a>
{% endblock %}

{% block content %}
<hr>
{{
  quote(
    'Students are evaluated every year and the program is evaluated every 4-8 
    years, but individual labs are evaluated essentially never (at least WRT
    bioinformatics student experience). Some labs are better than others. That 
    means it\'s up to us to help new students decide where to go.',
    'Tony'
  )
}}
{% for post in posts %}
  {% if loop.first %}
      <hr>
    {% endif %}
    <article class="post">
      <header>
        <div>
          <h1>{{ post.title }}</h1>
          <div class="about">by {{ post.author.username }} on {{ post.timestamp.strftime('%Y-%m-%d') }}</div>
        </div>
        {% if current_user.id == post.user_id %}
          <a class="action" href="{{url_for('lab.update', id=post.id) }}">Edit</a>
        {% endif %}
      </header>
      <p class="body">{{ post.body }}</p>
    </article>
    {% if not loop.last %}
      <hr>
    {% endif %}
  {% endfor %}
{% endblock %}
